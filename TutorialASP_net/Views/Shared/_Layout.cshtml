<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title - Mi aplicación ASP.NET</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        @Html.ActionLink("Tutorial ASP.net MVC", "Index", "Home", new { area = "" }, new { @class = "navbar-brand" })
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a href="/Home/" class="nav-link active">Inicio</a>
                </li>
                <li class="nav-item">
                    <a href="/Home/About" class="nav-link active">Acerca De</a>
                </li>
                <li class="nav-item">
                    <a href="/Home/Contact" class="nav-link active">Contacto</a>
                </li>
                @if (Session["userid"] != null)
                {
                    <li class="nav-item">
                        <a href="/Test/" class="nav-link active">Test</a>
                    </li>
                    <li class="nav-item">
                        <a href="/Chat/" class="nav-link active">Chat</a>
                    </li>
                    <li class="nav-item">
                        <a href="/Chat/_TempView" class="nav-link active">Chat Nuevo</a>
                    </li>
                }

            </ul>
            @if (Session["userid"] == null)
            {

                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="/User/Registration" class="nav-link active">Sign In</a>
                    </li>
                    <li class="nav-item">
                        <a href="/User/Login" class="nav-link active">Login</a>
                    </li>
                </ul>
            }
            else
            {
                @*<ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a href="/User/Registration" class="nav-link active"><b>@Session["username"]    </b><img class="" width="50" height="50" src="@Session["photo"]" /></a>
                </li>
            </ul>*@
                <div class="nav-item dropdown">
                    <button class="" type="button" data-toggle="dropdown" aria-expanded="false">
                        <a href="/User/Registration" class="nav-link active"><b style="color:black;">@Session["username"]    </b><img class="" width="50" height="50" src="@Session["photo"]" /></a>
                    </button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="/User/UserProfile?iduser=@Session["userid"]"><i class="bi bi-person-circle"></i> Perfil</a>
                        <a class="dropdown-item" href="/User/LogOut"><i class="bi bi-box-arrow-right"></i> Cerrar Sesion</a>
                    </div>
                </div>
            }

        </div>
    </nav>
    <span id="conteo"></span>

    <div class="container body-content" style="padding-top:5%;">
        @RenderBody()
        <hr />


    </div>
    <!-- Footer -->
    
    <!-- Footer -->

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    <!--Estas librerias se importan para hacer funcional la parte de validar si los campos reueridos estan vacios-->
    @Scripts.Render("~/bundles/jqueryval")
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    @*<script src="~/Scripts/bootstrap.bundle.js"></script>*@
    @RenderSection("scripts", required: false)
    <!--Tipos de render-->
    @*@RenderSection("MySection", required: false)
        <p>Vista parcial cargada con RenderPage, este tambien funciona para cargr paginas que no sean vistas parciales. Puede ser usado mas de una vez a diferencia de RenderBody</p>
        @RenderPage("/Views/Shared/_PruebaPartialViewSimple.cshtml")*@
    @*<script src="~/Scripts/jquery.signalR-2.2.2.js"></script>
    <script src="/signalr/hubs"></script>
    <script>
        $(function () {
            var counter = $.connection.chatHub
            counter.client.ConnectedCount = function (count) {
                document.getElementById("conteo").innerHTML=count
            }
            $.connection.hub.start().done()
        })
    </script>*@
</body>
</html>
